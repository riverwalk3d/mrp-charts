<!DOCTYPE html>
<html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        body { margin:0; padding:20px; background:#f8f9fa; font-family:Arial; }
        .container { text-align:center; max-width:300px; margin:0 auto; }
        #chart { margin:0 auto; }
        .percentage { font-size:24px; font-weight:bold; margin-top:15px; color:#333; }
        .spool-info { font-size:16px; color:#666; margin-top:10px; }
    </style>
</head>
<body>
    <div class="container">
        <canvas id="chart" width="200" height="200"></canvas>
        <div class="percentage" id="percentText"></div>
        <div class="spool-info" id="spoolInfo"></div>
    </div>
    
    <script>
        // Get parameters from URL
        const urlParams = new URLSearchParams(window.location.search);
        const percentage = parseFloat(urlParams.get('percent')) || 0;
        const spoolId = urlParams.get('spool') || 'Unknown';
        const remaining = 100 - percentage;
        
        // Update text displays
        document.getElementById('percentText').textContent = percentage.toFixed(1) + '% Remaining';
        document.getElementById('spoolInfo').textContent = 'Spool: ' + spoolId;
        
        // Create doughnut chart
        const ctx = document.getElementById('chart').getContext('2d');
        new Chart(ctx, {
            type: 'doughnut',
            data: {
                datasets: [{
                    data: [percentage, remaining],
                    backgroundColor: ['#4CAF50', '#E0E0E0'],
                    borderWidth: 0,
                    cutout: '75%'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: { enabled: false }
                }
            }
        });
    </script>
</body>
</html>
